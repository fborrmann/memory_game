<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet href="http://localhost:8984/static/xsltforms/xsltforms.xsl" type="text/xsl"?>
<?xsltforms-options debug="no"?>

<!DOCTYPE html [
  <!ENTITY nbsp "&#x00A0;">
]>

<!-- Define prefixes for the XHTML and the XForms namespaces. -->
<html
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:xf="http://www.w3.org/2002/xforms"
>

<head>
  <title>Memory</title>

<!-- Define an XForms model. -->

<xf:model>
  <xf:instance xmlns="" src="http://localhost:8984/XSLT/newGame"/>
  <!-- Precondition: range is xs:integer >= 0 -->
  <xf:submission id="guess" method="post"
    resource="http://localhost:8984/XSLT/guess" replace="instance"/>
  <xf:submission id="playAgain" method="get"
    resource="http://localhost:8984/XSLT/welcomeScreenInfo" replace="instance"/>
  <xf:submission id="quit" method="get"
    resource="http://localhost:8984/XSLT/quitScreenInfo" replace="instance"/>
  <xf:instance id="noShow" xmlns="">
    <helper>
      <noShow>display: none</noShow>
    </helper>
  </xf:instance>
</xf:model>

</head>


<body>
  <!-- One of the following field sets is displayed, depending on screen type -->


  <fieldset style="{instance('noShow')//noShow[not(//type='welcomeScreen')]}">
    <legend>Welcome to "Memory"!</legend>
  <xf:group ref=".">
    <p><xf:input ref="range">
      <xf:label>Pairs&nbsp;</xf:label>
      <xf:hint>The number of card pairs in the game.</xf:hint>
      <xf:alert>Enter a number greater than 1.</xf:alert>
    </xf:input></p>
    <p><xf:input ref="players">
      <xf:label>Players&nbsp;</xf:label>
      <xf:hint>The number of players in the game.</xf:hint>
      <xf:alert>Enter a number greater than 0.</xf:alert>
    </xf:input></p>
    <p><xf:submit submission="newGame">
      <xf:label>start</xf:label>
    </xf:submit></p>
  </xf:group>
  </fieldset>


  <fieldset style="{instance('noShow')//noShow[not(//type='firstGuessScreen')]}">
  	<xf:group ref=".">
      <table width="600em" valign="top">
        <col width="200em"/>
        <col width="400em"/>
        <tr>
          <td valign="top">
          
	      <table width="200em" bgcolor="#00FF00" style="font-family:arial;"> 
	        <col width="100em"/>
	        <col width="100em"/>
	        <tr>
	          <td>Anzahl Spieler</td>
	          <td><xf:output ref="players"/></td>
	        </tr>
	        <tr>
	          <td>Anzahl Karten</td>
	          <td><xf:output ref="cards"/></td>
	        </tr>
	        <tr>
		        <td><xf:submit submission="playAgain">
		          <xf:label>play again</xf:label>
		        </xf:submit></td>
	        </tr>
	        <tr>
	          <td><xf:submit submission="quit">
		          <xf:label>quit</xf:label>
		      </xf:submit></td>
	        </tr>
	        
	      </table>
      		</td>
      		
          <td><object data="http://localhost:8984/static/data/bild.xml" type="image/svg+xml"/></td>
         </tr>
      </table>
    </xf:group>
  		
		

  </fieldset>


  <fieldset style="{instance('noShow')//noShow[not(//type='furtherGuessScreen')]}">
    <legend>Take another guess!</legend>
    <xf:group ref=".">
      <p><xf:output ref="type"><xf:label>Screen type&nbsp;</xf:label></xf:output></p>
      <p></p>
      <table width="300em">
        <col width="250em"/>
        <col width="50em"/>
        <tr>
          <td>Range</td>
          <td><xf:output ref="range"/></td>
        </tr>
        <tr>
          <td>Number of guesses so far</td>
          <td><xf:output ref="guessesSoFar"/></td>
        </tr>
        <tr>
          <td>Maximal number of guesses</td>
          <td><xf:output ref="maxGuesses"/></td>
        </tr>
        <tr>
          <td>Previous guess was</td>
          <td><xf:output ref="statusGuess"/></td>
        </tr>
      </table>
      <p></p>
      <p><xf:input ref="guess">
        <xf:label>Guess&nbsp;</xf:label>
        <xf:hint>Your next guess (a number between 1 and <xf:output ref="range"/>)</xf:hint>
        <xf:alert>Enter a number greater than 1.</xf:alert>
      </xf:input></p>
      <p><xf:submit submission="guess">
        <xf:label>guess</xf:label>
      </xf:submit></p>
    </xf:group>
  </fieldset>


  <fieldset style="{instance('noShow')//noShow[not(//type='resultScreen')]}">
    <legend>Game over!</legend>
    <xf:group ref=".">
      <p><xf:output ref="type"><xf:label>Screen type&nbsp;</xf:label></xf:output></p>
      <p></p>
      <table width="300em">
        <col width="250em"/>
        <col width="50em"/>
        <tr>
          <td>Range</td>
          <td><xf:output ref="range"/></td>
        </tr>
        <tr>
          <td>Number of guesses so far</td>
          <td><xf:output ref="guessesSoFar"/></td>
        </tr>
        <tr>
          <td>Maximal number of guesses</td>
          <td><xf:output ref="maxGuesses"/></td>
        </tr>
        <tr>
          <td>Previous guess was</td>
          <td><xf:output ref="statusGuess"/></td>
        </tr>
        <tr>
          <td>Game result</td>
          <td><xf:output ref="statusGame"/></td>
        </tr>
        <tr>
          <td>Secret number is</td>
          <td><xf:output ref="secret"/></td>
        </tr>
      </table>
      <p/>
      <p>
        <xf:submit submission="playAgain">
          <xf:label>play again</xf:label>
        </xf:submit>
        &nbsp;&nbsp;
        <xf:submit submission="quit">
          <xf:label>quit</xf:label>
      </xf:submit></p>
    </xf:group>
  </fieldset>


  <fieldset style="{instance('noShow')//noShow[not(//type='quitScreen')]}">
    <legend>Goodbye from "Memory"!</legend>
  </fieldset>
  <p/>

  <fieldset>
    <legend>Debugging Info</legend>
  <pre>
  <xf:output value="serialize(., 'yes')"/>
  </pre>
  </fieldset>
</body>
</html>
